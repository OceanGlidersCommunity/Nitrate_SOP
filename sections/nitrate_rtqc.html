
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>6. Required Metadata, Real Time Data Processing &amp; Quality Control &#8212; Nitrate SOP</title>
    
  <link href="../_static/css/theme.css" rel="stylesheet">
  <link href="../_static/css/index.ff1ffe594081f20da1ef19478df9384b.css" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-book-theme.css?digest=c3fdc42140077d1ad13ad2f1588a4309" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="../_static/js/index.be7d3bbb2ef33a8344ce.js">

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/togglebutton.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script kind="utterances">

    var commentsRunWhenDOMLoaded = cb => {
    if (document.readyState != 'loading') {
        cb()
    } else if (document.addEventListener) {
        document.addEventListener('DOMContentLoaded', cb)
    } else {
        document.attachEvent('onreadystatechange', function() {
        if (document.readyState == 'complete') cb()
        })
    }
}

var addUtterances = () => {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src = "https://utteranc.es/client.js";
    script.async = "async";

    script.setAttribute("repo", "OceanGlidersCommunity/Nitrate_SOP");
    script.setAttribute("issue-term", "pathname");
    script.setAttribute("theme", "github-light");
    script.setAttribute("label", "ðŸ’¬ comment");
    script.setAttribute("crossorigin", "anonymous");

    sections = document.querySelectorAll("div.section");
    if (sections !== null) {
        section = sections[sections.length-1];
        section.appendChild(script);
    }
}
commentsRunWhenDOMLoaded(addUtterances);
</script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../_static/sphinx-book-theme.d59cb220de22ca1c485ebbdc042f0030.js"></script>
    <script async="async" src="https://unpkg.com/thebe@0.5.1/lib/index.js"></script>
    <script>
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="7. Post-recovery operations and calibrations" href="nitrate_post_recovery.html" />
    <link rel="prev" title="5. Missions execution" href="nitrate_mission_execution.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="../_static/logo-ocean-gliders.png" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">Nitrate SOP</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../README.html">
   OceanGliders Nitrate SOP
  </a>
 </li>
</ul>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="authors_SOP_development_process.html">
   1. Authors, development process and contributions
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="nitrate_introduction.html">
   2. Introduction
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="nitrate_sensors_integration.html">
   3. Sensors and integrations
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="nitrate_pre_deployment.html">
   4. Pre-deployment operations and calibrations
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="nitrate_mission_execution.html">
   5. Missions execution
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   6. Required Metadata, Real Time Data Processing &amp; Quality Control
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="nitrate_post_recovery.html">
   7. Post-recovery operations and calibrations
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="nitrate_dmqc.html">
   8. Delayed Mode Processing and Quality Control
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="data_sharing.html">
   9. Data sharing
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="nitrate_references.html">
   10. References
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="acknowledgement.html">
   11. Acknowledgement
  </a>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../_sources/sections/nitrate_rtqc.md"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.md</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
                onclick="printPdf(this)" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://github.com/OceanGlidersCommunity/Nitrate_SOP"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Source repository"><i
                    class="fab fa-github"></i>repository</button></a>
        <a class="issues-button"
            href="https://github.com/OceanGlidersCommunity/Nitrate_SOP/issues/new?title=Issue%20on%20page%20%2Fsections/nitrate_rtqc.html&body=Your%20issue%20content%20here."><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Open an issue"><i class="fas fa-lightbulb"></i>open issue</button></a>
        <a class="edit-button" href="https://github.com/OceanGlidersCommunity/Nitrate_SOP/edit/main/sections/nitrate_rtqc.md"><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Edit this page"><i class="fas fa-pencil-alt"></i>suggest edit</button></a>
    </div>
</div>

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show noprint">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Contents
            </div>
            <nav id="bd-toc-nav" aria-label="Page">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#required-metadata-and-real-time-data-processing">
   6.1. Required Metadata and Real Time Data Processing
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#uv-spectrometers">
     6.1.1. UV Spectrometers
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#real-time-quality-control-rtqc">
   6.2. Real Time Quality Control (RTQC)
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#uv-spectrometer">
     6.2.1. UV Spectrometer
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#data-submission-real-time">
   6.3. Data submission (real time)
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id1">
     6.3.1. UV Spectrometers
    </a>
   </li>
  </ul>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>Required Metadata, Real Time Data Processing & Quality Control</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#required-metadata-and-real-time-data-processing">
   6.1. Required Metadata and Real Time Data Processing
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#uv-spectrometers">
     6.1.1. UV Spectrometers
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#real-time-quality-control-rtqc">
   6.2. Real Time Quality Control (RTQC)
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#uv-spectrometer">
     6.2.1. UV Spectrometer
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#data-submission-real-time">
   6.3. Data submission (real time)
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id1">
     6.3.1. UV Spectrometers
    </a>
   </li>
  </ul>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            
              <div>
                
  <div class="tex2jax_ignore mathjax_ignore section" id="required-metadata-real-time-data-processing-quality-control">
<h1><span class="section-number">6. </span>Required Metadata, Real Time Data Processing &amp; Quality Control<a class="headerlink" href="#required-metadata-real-time-data-processing-quality-control" title="Permalink to this headline">Â¶</a></h1>
<div class="section" id="required-metadata-and-real-time-data-processing">
<h2><span class="section-number">6.1. </span>Required Metadata and Real Time Data Processing<a class="headerlink" href="#required-metadata-and-real-time-data-processing" title="Permalink to this headline">Â¶</a></h2>
<div class="section" id="uv-spectrometers">
<h3><span class="section-number">6.1.1. </span>UV Spectrometers<a class="headerlink" href="#uv-spectrometers" title="Permalink to this headline">Â¶</a></h3>
<p>Both Deep SUNA and OPUS instruments are capable of real time processing the measured spectra and output a nitrate concentration.
For OPUS instruments the possibility exists to order a version without real time processing which then allows for a more rapid sampling rate.</p>
<p>As UV light is absorbed by the bromide ions in seawater this absorption has to be taken into account to give a number for the nitrate concentration.
The absorption is linearly dependent on the salinity of the seawater and if the salinity is known the attenuance spectra can directly be corrected for this. If the salinity is not known, the concentration of bromide can be estimated from the spectra themselves as the UV absorption of bromide differs from that of nitrate. In Deep SUNAs the salinity is estimated using an optimization. The optimization algorithm has not been published by the manufacturer. Using the optimization algorithm however leads to elevated uncertainties of the nitrate concentrations (2.4 ÂµM instead of 0.3 ÂµM precision). Slocum G2 gliders equipped with a Deep SUNA do not feed their salinity measurements into the Deep SUNA, the optimization algorithm has thus to be used for real time calculations. This means that real time Deep SUNA data is typically relatively noisy. Only in post-processing the nitrate concentrations can be recalculated using the known salinities leading to better precision measurements. In theory CTD information could be fed from the glider into the Deep SUNA thereby enabling the calculation of concentrations with the lower noise levels.
However it is currently (November 2021) not implemented and not planned to be implemented.</p>
<p>OPUS spectrometers can also derive nitrate concentrations in real time, but to the groups involved in writing this document no instrument with that capability was available.</p>
</div>
</div>
<div class="section" id="real-time-quality-control-rtqc">
<h2><span class="section-number">6.2. </span>Real Time Quality Control (RTQC)<a class="headerlink" href="#real-time-quality-control-rtqc" title="Permalink to this headline">Â¶</a></h2>
<div class="section" id="uv-spectrometer">
<h3><span class="section-number">6.2.1. </span>UV Spectrometer<a class="headerlink" href="#uv-spectrometer" title="Permalink to this headline">Â¶</a></h3>
<p>Four real time quality control checks should be implemented to detect suspicious measurements:</p>
<ul class="simple">
<li><p>valid range checks</p></li>
<li><p>spike/outlier detection</p></li>
<li><p>comparison with climatological information</p></li>
<li><p>sensor drift detection</p></li>
</ul>
<p>Real time quality control relies on knowledge of the typical nitrate concentration in the deployment region and on the, in most cases, slow spatial variation of the nitrate concentrations (eddies and fronts are often special cases with larger horizontal gradients). New profiles are typically compared with the previous ones to detect profiles or single values that stand out. Such data can be flagged as suspicious or even bad.</p>
<p>For the different instruments their respective noise level has to be taken into account when creating an outlier check. Very rarely objects appear to get into the sampling volume and are usually there for only a few samples after which the measurements return to the previously measured concentrations. The result of this are spikes to higher concentrations (higher apparent absorption).</p>
<p>A slow measurement drift is to be expected for Sea-Birdâ€™s Deep SUNA because of lamp aging. This can not be corrected in situ as the reduction in lamp strength is not measured (see also below for the post-recovery calibration). A drift might also occur because of bio-fouling. Both lamp aging and bio-fouling drifts should lead to values increasing with deployment time. Small drifts are often difficult to detect as they might not stand out against other measurement variability. Prior knowledge, such as e.g. an expected nitrate depletion in the surface mixed layer, can potentially be used to detect a small drift. After recovery, renewed calibration and reference measurements may also be used to differentiate between lamp drift and bio-fouling.</p>
</div>
</div>
<div class="section" id="data-submission-real-time">
<h2><span class="section-number">6.3. </span>Data submission (real time)<a class="headerlink" href="#data-submission-real-time" title="Permalink to this headline">Â¶</a></h2>
<p>It is recommended that real time data is submitted to GDACs for immediate redistribution of the data.
At the moment of writing (May 2021) it is unclear whether any GDACs process real time nitrate measurements, nevertheless we recommend implementing the submission process.</p>
<div class="section" id="id1">
<h3><span class="section-number">6.3.1. </span>UV Spectrometers<a class="headerlink" href="#id1" title="Permalink to this headline">Â¶</a></h3>
<p>Deep SUNAs on Slocum gliders currently (May 2021) transfer to the gliders only nitrate concentrations based on optimized temperature and salinity values.
It should be possible to feed CTD data from the glider into Deep SUNAs to allow for more accurate calculations.
This should be particularly true for modern Slocum G3 gliders which use faster processors.
Alternatively raw spectra could be transmitted to data centres albeit at the cost of 30-40 times larger data sets with the consequence of higher costs and longer glider time spent at the sea surface.
In the future this might also be easier with faster and cheaper satellite transmission systems.
Because of the high costs in time at surface and in money of satellite data transmission typically only a reduced data set is transmitted.
GEOMAR e.g. transmits only one measurement every 30 seconds or about 3-4 m. Raw spectra are not transmitted.</p>
</div>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./sections"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
            
                <!-- Previous / next buttons -->
<div class='prev-next-area'> 
    <a class='left-prev' id="prev-link" href="nitrate_mission_execution.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title"><span class="section-number">5. </span>Missions execution</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="nitrate_post_recovery.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title"><span class="section-number">7. </span>Post-recovery operations and calibrations</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            
        </div>
    </div>
    <footer class="footer">
  <p>
    
      By The Jupyter Book community<br/>
    
        &copy; Copyright 2021.<br/>
  </p>
</footer>
</main>


      </div>
    </div>
  
  <script src="../_static/js/index.be7d3bbb2ef33a8344ce.js"></script>

  </body>
</html>