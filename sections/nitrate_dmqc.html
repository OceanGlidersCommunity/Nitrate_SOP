
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>8. Delayed Mode Processing and Quality Control &#8212; Nitrate SOP</title>
    
  <link href="../_static/css/theme.css" rel="stylesheet">
  <link href="../_static/css/index.ff1ffe594081f20da1ef19478df9384b.css" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-book-theme.css?digest=c3fdc42140077d1ad13ad2f1588a4309" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="../_static/js/index.be7d3bbb2ef33a8344ce.js">

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js"></script>
    <script kind="utterances">

    var commentsRunWhenDOMLoaded = cb => {
    if (document.readyState != 'loading') {
        cb()
    } else if (document.addEventListener) {
        document.addEventListener('DOMContentLoaded', cb)
    } else {
        document.attachEvent('onreadystatechange', function() {
        if (document.readyState == 'complete') cb()
        })
    }
}

var addUtterances = () => {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src = "https://utteranc.es/client.js";
    script.async = "async";

    script.setAttribute("repo", "OceanGlidersCommunity/Nitrate_SOP");
    script.setAttribute("issue-term", "pathname");
    script.setAttribute("theme", "github-light");
    script.setAttribute("label", "ðŸ’¬ comment");
    script.setAttribute("crossorigin", "anonymous");

    sections = document.querySelectorAll("div.section");
    if (sections !== null) {
        section = sections[sections.length-1];
        section.appendChild(script);
    }
}
commentsRunWhenDOMLoaded(addUtterances);
</script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../_static/sphinx-book-theme.d59cb220de22ca1c485ebbdc042f0030.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="9. Data sharing" href="data_sharing.html" />
    <link rel="prev" title="7. Post-recovery operations and calibrations" href="nitrate_post_recovery.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="../_static/logo-ocean-gliders.png" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">Nitrate SOP</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../README.html">
   OceanGliders Nitrate SOP
  </a>
 </li>
</ul>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="authors_SOP_development_process.html">
   1. Authors, development process and contributions
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="nitrate_introduction.html">
   2. Introduction
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="nitrate_sensors_integration.html">
   3. Sensors specifications and glider integrations
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="nitrate_pre_deployment.html">
   4. Pre-deployment operations and calibrations
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="nitrate_mission_execution.html">
   5. Missions execution
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="nitrate_rtqc.html">
   6. Required Metadata, Real Time Data Processing &amp; Quality Control
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="nitrate_post_recovery.html">
   7. Post-recovery operations and calibrations
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   8. Delayed Mode Processing and Quality Control
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="data_sharing.html">
   9. Data sharing
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="nitrate_references.html">
   10. References
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="acknowledgement.html">
   11. Acknowledgement
  </a>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../_sources/sections/nitrate_dmqc.md"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.md</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
                onclick="printPdf(this)" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://github.com/OceanGlidersCommunity/Nitrate_SOP"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Source repository"><i
                    class="fab fa-github"></i>repository</button></a>
        <a class="issues-button"
            href="https://github.com/OceanGlidersCommunity/Nitrate_SOP/issues/new?title=Issue%20on%20page%20%2Fsections/nitrate_dmqc.html&body=Your%20issue%20content%20here."><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Open an issue"><i class="fas fa-lightbulb"></i>open issue</button></a>
        <a class="edit-button" href="https://github.com/OceanGlidersCommunity/Nitrate_SOP/edit/main/sections/nitrate_dmqc.md"><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Edit this page"><i class="fas fa-pencil-alt"></i>suggest edit</button></a>
    </div>
</div>

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show noprint">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Contents
            </div>
            <nav id="bd-toc-nav" aria-label="Page">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#delayed-mode-processing">
   8.1. Delayed Mode Processing
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#uv-spectrometers">
     8.1.1. UV Spectrometers
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#lab-on-chip-instruments">
     8.1.2. Lab-on-Chip Instruments
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#delayed-mode-quality-control-dmqc">
   8.2. Delayed Mode Quality Control (DMQC)
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id4">
     8.2.1. UV Spectrometers
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id5">
     8.2.2. Lab-On-Chip Instruments
    </a>
   </li>
  </ul>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>Delayed Mode Processing and Quality Control</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#delayed-mode-processing">
   8.1. Delayed Mode Processing
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#uv-spectrometers">
     8.1.1. UV Spectrometers
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#lab-on-chip-instruments">
     8.1.2. Lab-on-Chip Instruments
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#delayed-mode-quality-control-dmqc">
   8.2. Delayed Mode Quality Control (DMQC)
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id4">
     8.2.1. UV Spectrometers
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id5">
     8.2.2. Lab-On-Chip Instruments
    </a>
   </li>
  </ul>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            
              <div>
                
  <div class="tex2jax_ignore mathjax_ignore section" id="delayed-mode-processing-and-quality-control">
<h1><span class="section-number">8. </span>Delayed Mode Processing and Quality Control<a class="headerlink" href="#delayed-mode-processing-and-quality-control" title="Permalink to this headline">Â¶</a></h1>
<div class="section" id="delayed-mode-processing">
<h2><span class="section-number">8.1. </span>Delayed Mode Processing<a class="headerlink" href="#delayed-mode-processing" title="Permalink to this headline">Â¶</a></h2>
<div class="section" id="uv-spectrometers">
<h3><span class="section-number">8.1.1. </span>UV Spectrometers<a class="headerlink" href="#uv-spectrometers" title="Permalink to this headline">Â¶</a></h3>
<p>The processing of UV attenuance spectra to obtain nitrate concentrations has been fully described in <span id="id1">[<a class="reference internal" href="nitrate_references.html#id15" title="Carole M. Sakamoto, Kenneth S. Johnson, and Luke J. Coletti. Improved algorithm for the computation of nitrate concentrations in seawater using an in situ ultraviolet spectrophotometer. Limnol. Oceanogr. Methods, 7():, 2009. URL:, arXiv:, doi:https://doi.org/10.4319/lom.2009.7.132.">Sakamoto <em>et al.</em>, 2009</a>]</span>, <span id="id2">[<a class="reference internal" href="nitrate_references.html#id16" title="Carole M. Sakamoto, Kenneth S. Johnson, Luke J. Coletti, and H.W. Jannasch. Pressure correction for the computation of nitrate concentrations in seawater using an in situ ultraviolet spectrophotometer. Limnol. Oceanogr. Methods, 15():897-902, 2017. URL:, arXiv:, doi:https://doi.org/10.1002/lom3.10209.">Sakamoto <em>et al.</em>, 2017</a>]</span>, <span id="id3">[<a class="reference internal" href="nitrate_references.html#id12" title="Ken Johnson, Orens Pasqueron De Fommervault, Romain Serra, Fabrizio D'Ortenzio, Catherine Schmechtig, HervÃ© Claustre, and Antoine Poteau. Processing bio-argo nitrate concentration at the dac level. ():, 2018. URL:, arXiv:, doi:https://doi.org/10.13155/46121.">Johnson <em>et al.</em>, 2018</a>]</span>.
In delayed mode  temperature and salinity can be used to remove their interference effects on the observed spectra.
For an additional correction pressure data can be fed into the calculations.
Matlab code has been published for Deep SUNA processing (<a class="reference external" href="https://github.com/SOCCOM-BGCArgo">https://github.com/SOCCOM-BGCArgo</a>), but can be adapted to other spectrometers.
Recently (2020) a modified temperature dependency of the bromide correction has been developed (<a class="reference external" href="https://argo.ucsd.edu/wp-content/uploads/sites/361/2021/04/BGC_meeting_ADMT2020_Minutes.pdf">https://argo.ucsd.edu/wp-content/uploads/sites/361/2021/04/BGC_meeting_ADMT2020_Minutes.pdf</a>).
Another code version is available at <a class="reference external" href="https://github.com/oceanobservatories/ion-functions/blob/master/ion_functions/data/nit_functions.py">https://github.com/oceanobservatories/ion-functions/blob/master/ion_functions/data/nit_functions.py</a>.</p>
<p>Reference lamp spectra taken before and after the deployment can now be used to remove the effects of lamp aging and possibly also of bio-fouling on the attenuance spectra. The simplest way is to calculate two nitrate concentrations using the pre- and post-deployment lamp reference spectra and then calculate a weighted average of the two concentrations.
Depending on the strength of the bio-fouling the linear weighting should probably be based on either lamp use time (no or weak bio-fouling) or deployment time (strong bio-fouling).</p>
<p>A cross-calibration of the resulting nitrate concentrations is strongly recommended.</p>
<p>Reprocessed nitrate concentrations typically differ from higher quality water sample based measurements by a few % (see also Table 1).
The differences are linear with the concentrations and can be corrected by applying an offset and a slope factor.
GEOMAR has found that for Deep SUNAs the remaining differences after the correction are typically between 0.5 and 1 ÂµM, significantly better than the &gt;= 2 ÂµM given for uncorrected concentrations.
Without such a correction the differences can be significantly larger (see Table 1).
Cross-calibration is also possible between Deep SUNA-glider profiles and nearby CTD water sample profiles.
Preferably close in time and space (acceptable practice).
As a last resort SUNA values can be cross-calibrated against open ocean climatological values which are typically close to 0 umol/kg near the surface and relatively stable below 500 m depth (tropical Atlantic).
Calibrations using data from the nutricline will be rather uncertain and one might have to resort to using only the near surface values to determine an offset (and no slope).</p>
</div>
<div class="section" id="lab-on-chip-instruments">
<h3><span class="section-number">8.1.2. </span>Lab-on-Chip Instruments<a class="headerlink" href="#lab-on-chip-instruments" title="Permalink to this headline">Â¶</a></h3>
<p>For the lab-on-chip analyser there are a number of post processing steps to be conducted:</p>
<ol class="simple">
<li><p>Check the consistency of blank and standard absorbance values to identify any calibrations that are clear outliers. Data from such calibrations can either be omitted from further analysis, or an alternative calibration could be applied e.g. deployment average calibration values or values from preceding or subsequent dives.</p></li>
<li><p>Screen sample concentrations for extreme values, the definition of extreme values depends on sampling region and prior knowledge. The sensors have an optional optical correction feature which allows for inherent optical differences between the sample and standard to be accounted for, particularly in estuarine environments. This feature was occasionally shown to make data reduce data quality (e.g. produce extreme negative concentrations) during glider deployments. If large amounts of noise are seen in the data it may be worth investigating whether this feature has introduced any artefacts.</p></li>
<li><p>Flag any values that are below the Limit of Detection (LoD). There is no current consensus on how to treat concentrations &lt; LoD. For plotting purposes data can be replaced with LoD/2.</p></li>
<li><p>Compare the data product to climatological data and if available grab samples collected at beginning and end of deployment.</p></li>
</ol>
<p>It is important to note that LoC sample intake takes approximately 15-20 seconds, the precise duration, and hence vertical distance over which the sample is collected, can be calculated for each sample using raw data accessed on glider recovery. This is important when the glider is passing through strong nutrient gradients and for accurately reporting the  sample measurement depth. In dynamic regions, such as shelf seas, it is expected that there will be significant temporal and spatial variation of nutrient concentrations. Not every glider dive will include NO<sub>3</sub> measurements, therefore it is helpful to occasionally conduct NO<sub>3</sub> analysis on subsequent dives. By minimising natural spatial and temporal variability this allows for an assessment of LoC analyser field precision by comparing samples measured at similar points in the water column.</p>
</div>
</div>
<div class="section" id="delayed-mode-quality-control-dmqc">
<h2><span class="section-number">8.2. </span>Delayed Mode Quality Control (DMQC)<a class="headerlink" href="#delayed-mode-quality-control-dmqc" title="Permalink to this headline">Â¶</a></h2>
<div class="section" id="id4">
<h3><span class="section-number">8.2.1. </span>UV Spectrometers<a class="headerlink" href="#id4" title="Permalink to this headline">Â¶</a></h3>
<p>Delayed mode quality control for UV spectrometers is comparable to that of real time quality control. See the chapter on RTQC.</p>
<p>The detection limit of SUNA measurements is 0.3 ÂµM which has to be considered when observing oligotrophic regions. Typical issues occur near the surface due to interference with sunlight and highly turbid regions.</p>
<p>Based on longitude, latitude, pressure, temperature, salinity and oxygen Argo floats users estimate the delayed mode values for nitrate with CANYON B  (<a class="reference external" href="https://doi.org/10.3389/fmars.2018.00328">https://doi.org/10.3389/fmars.2018.00328</a>. , <a class="reference external" href="https://doi.org/10.1002/2017JC012838">https://doi.org/10.1002/2017JC012838</a>). This approach can similarly be followed for glider based data and should be based on data at depth where nitrate values are not so variable.</p>
</div>
<div class="section" id="id5">
<h3><span class="section-number">8.2.2. </span>Lab-On-Chip Instruments<a class="headerlink" href="#id5" title="Permalink to this headline">Â¶</a></h3>
</div>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./sections"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
            
                <!-- Previous / next buttons -->
<div class='prev-next-area'> 
    <a class='left-prev' id="prev-link" href="nitrate_post_recovery.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title"><span class="section-number">7. </span>Post-recovery operations and calibrations</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="data_sharing.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title"><span class="section-number">9. </span>Data sharing</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            
        </div>
    </div>
    <footer class="footer">
  <p>
    
      <div class="extra_footer">
        <p>  By the OceanGliders community using
  <a href="https://jupyterbook.org/intro.html"   target="_blank">Jupyter Book</a>. 
  This work is licensed under a 
  <a href="https://creativecommons.org/licenses/by/4.0/" target="_blank"> Creative Commons Attribution 4.0 Generic License.</a> 
</p>

      </div>
  </p>
</footer>
</main>


      </div>
    </div>
  
  <script src="../_static/js/index.be7d3bbb2ef33a8344ce.js"></script>

  </body>
</html>